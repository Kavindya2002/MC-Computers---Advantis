<div class="dashboard-container">
  <div class="page-header">
    <div class="header-content">
      <div class="header-title">
        <h1 class="page-title">Dashboard Overview</h1>
        <p class="page-subtitle">Monitor your business performance and recent activities</p>
      </div>
    </div>
  </div>

  <div class="content-section">
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-content">
          <div class="stat-info">
            <h3 class="stat-value">{{ invoices.length }}</h3>
            <p class="stat-label">Total Invoices</p>
          </div>
          <div class="stat-icon">
            <i class="fas fa-file-invoice"></i>
          </div>
        </div>
        <div class="stat-trend">
          <i class="fas fa-chart-line"></i>
          <span>All Time</span>
        </div>
      </div>

      <div class="stat-card success">
        <div class="stat-content">
          <div class="stat-info">
            <h3 class="stat-value">LKR {{ getTotalRevenue().toFixed(2) }}</h3>
            <p class="stat-label">Total Revenue</p>
          </div>
          <div class="stat-icon">
            <i class="fas fa-dollar-sign"></i>
          </div>
        </div>
        <div class="stat-trend">
          <i class="fas fa-wallet"></i>
          <span>Lifetime</span>
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-content">
          <div class="stat-info">
            <h3 class="stat-value">LKR {{ getThisMonthRevenue().toFixed(2) }}</h3>
            <p class="stat-label">This Month</p>
          </div>
          <div class="stat-icon">
            <i class="fas fa-calendar"></i>
          </div>
        </div>
        <div class="stat-trend">
          <i class="fas fa-chart-bar"></i>
          <span>Current Month</span>
        </div>
      </div>
    </div>

    <!-- Recent Invoices -->
    <div class="table-card">
      <div class="table-header">
        <h3 class="table-title">Recent Invoices</h3>
        <button class="btn-view-all" (click)="viewAllInvoices()">
          <i class="fas fa-list"></i>
          View All
        </button>
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th class="col-invoice">INVOICE NO</th>
              <th class="col-customer">CUSTOMER</th>
              <th class="col-date">DATE</th>
              <th class="col-amount">AMOUNT</th>
              <th class="col-actions">ACTIONS</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let invoice of recentInvoices" class="data-row">
              <td class="col-invoice">
                <div class="invoice-number">{{ invoice.invoiceNumber }}</div>
                <div class="invoice-meta">#{{ invoice.id }}</div>
              </td>
              <td class="col-customer">
                <div class="customer-info">
                  <div class="customer-name">{{ formatCustomerName(invoice.customer.name) }}</div>
                  <div class="customer-contact">{{ invoice.customer.phone }}</div>
                </div>
              </td>
              <td class="col-date">
                <div class="date-primary">{{ invoice.invoiceDate | date:'dd MMM yyyy' }}</div>
                <div class="date-secondary">{{ invoice.invoiceDate | date:'hh:mm a' }}</div>
              </td>
              <td class="col-amount">
                <div class="amount-primary">LKR {{ invoice.total.toFixed(2) }}</div>
              </td>
              <td class="col-actions">
                <button class="btn-action btn-view" (click)="viewInvoice(invoice)" title="View Details">
                  <i class="fas fa-eye"></i>
                  <span>View</span>
                </button>
              </td>
            </tr>
            <tr *ngIf="recentInvoices.length === 0" class="empty-state">
              <td colspan="5">
                <div class="empty-content">
                  <i class="fas fa-file-invoice empty-icon"></i>
                  <h3 class="empty-title">No Invoices Found</h3>
                  <p class="empty-description">Create your first invoice to get started with invoice management.</p>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
